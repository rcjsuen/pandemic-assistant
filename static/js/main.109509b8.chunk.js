(this["webpackJsonppandemic-assistant"]=this["webpackJsonppandemic-assistant"]||[]).push([[1],{60:function(e,n,t){var r={"./ion-action-sheet.entry.js":[88,5],"./ion-alert.entry.js":[89,6],"./ion-app_8.entry.js":[90,7],"./ion-avatar_3.entry.js":[91,17],"./ion-back-button.entry.js":[92,18],"./ion-backdrop.entry.js":[93,43],"./ion-button_2.entry.js":[94,19],"./ion-card_5.entry.js":[95,20],"./ion-checkbox.entry.js":[96,21],"./ion-chip.entry.js":[97,22],"./ion-col_3.entry.js":[98,44],"./ion-datetime_3.entry.js":[99,10],"./ion-fab_3.entry.js":[100,23],"./ion-img.entry.js":[101,45],"./ion-infinite-scroll_2.entry.js":[102,46],"./ion-input.entry.js":[103,24],"./ion-item-option_3.entry.js":[104,25],"./ion-item_8.entry.js":[105,26],"./ion-loading.entry.js":[106,27],"./ion-menu_3.entry.js":[107,28],"./ion-modal.entry.js":[108,8],"./ion-nav_2.entry.js":[109,14],"./ion-popover.entry.js":[110,9],"./ion-progress-bar.entry.js":[111,29],"./ion-radio_2.entry.js":[112,30],"./ion-range.entry.js":[113,31],"./ion-refresher_2.entry.js":[114,11],"./ion-reorder_2.entry.js":[115,16],"./ion-ripple-effect.entry.js":[116,47],"./ion-route_4.entry.js":[117,32],"./ion-searchbar.entry.js":[118,33],"./ion-segment_2.entry.js":[119,34],"./ion-select_3.entry.js":[120,35],"./ion-slide_2.entry.js":[121,48],"./ion-spinner.entry.js":[122,13],"./ion-split-pane.entry.js":[123,49],"./ion-tab-bar_2.entry.js":[124,36],"./ion-tab_2.entry.js":[125,15],"./ion-text.entry.js":[126,37],"./ion-textarea.entry.js":[127,38],"./ion-toast.entry.js":[128,39],"./ion-toggle.entry.js":[129,12],"./ion-virtual-scroll.entry.js":[130,50]};function i(e){if(!t.o(r,e))return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=r[e],i=n[0];return t.e(n[1]).then((function(){return t(i)}))}i.keys=function(){return Object.keys(r)},i.id=60,e.exports=i},62:function(e,n,t){var r={"./ion-icon.entry.js":[131,57]};function i(e){if(!t.o(r,e))return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=r[e],i=n[0];return t.e(n[1]).then((function(){return t(i)}))}i.keys=function(){return Object.keys(r)},i.id=62,e.exports=i},70:function(e,n,t){},72:function(e,n,t){},73:function(e,n,t){},74:function(e,n,t){},85:function(e,n,t){},86:function(e,n,t){"use strict";t.r(n);var r,i=t(0),s=t.n(i),a=t(28),c=t.n(a),o=t(21),u=t(3),h=t(46),l=t(12),d=(t(27),t(4)),j=t(6),p=t(8),y=t(9),g=(t(70),t(48));function b(e){switch(e){case r.SanFrancisco:return"San Francisco";case r.Chicago:return"Chicago";case r.Montreal:return"Montreal";case r.Atlanta:return"Atlanta";case r.NewYork:return"New York";case r.WashingtonDC:return"Washington D.C.";case r.London:return"London";case r.Paris:return"Paris";case r.Madrid:return"Madrid";case r.Essen:return"Essen";case r.StPetersburg:return"St. Petersburg";case r.Milan:return"Milan";case r.LosAngeles:return"LosAngeles";case r.Miami:return"Miami";case r.MexicoCity:return"Mexico City";case r.Bogota:return"Bogota";case r.SaoPaolo:return"Sao Paolo";case r.BuenosAires:return"Buenos Aires";case r.Lima:return"Lima";case r.Santiago:return"Santiago";case r.Lagos:return"Lagos";case r.Kinshasa:return"Kinshasa";case r.Johannesburg:return"Johannesburg";case r.Khartoum:return"Khartoum";case r.Moscow:return"Moscow";case r.Algiers:return"Algiers";case r.Riyadh:return"Riyadh";case r.Baghdad:return"Baghdad";case r.Tehran:return"Tehran";case r.Cairo:return"Cairo";case r.Istanbul:return"Istanbul";case r.Karachi:return"Karachi";case r.Delhi:return"Delhi";case r.Mumbai:return"Mumbai";case r.Chennai:return"Chennai";case r.Kolkata:return"Kolkata";case r.Beijing:return"Beijing";case r.Shanghai:return"Shanghai";case r.HongKong:return"Hong Kong";case r.Taipei:return"Taipei";case r.Bangkok:return"Bangkok";case r.Manila:return"Manila";case r.Jakarta:return"Jakarta";case r.HoChiMinhCity:return"Ho Chi Minh City";case r.Seoul:return"Seoul";case r.Tokyo:return"Tokyo";case r.Osaka:return"Osaka";case r.Sydney:return"Sydney"}}!function(e){e.SanFrancisco="SanFrancisco",e.Chicago="Chicago",e.Montreal="Montreal",e.Atlanta="Atlanta",e.NewYork="NewYork",e.WashingtonDC="WashingtonDC",e.London="London",e.Paris="Paris",e.Madrid="Madrid",e.Essen="Essen",e.StPetersburg="StPetersburg",e.Milan="Milan",e.LosAngeles="LosAngeles",e.Miami="Miami",e.MexicoCity="MexicoCity",e.Bogota="Bogota",e.SaoPaolo="SaoPaolo",e.BuenosAires="BuenosAires",e.Lima="Lima",e.Santiago="Santiago",e.Lagos="Lagos",e.Kinshasa="Kinshasa",e.Johannesburg="Johannesburg",e.Khartoum="Khartoum",e.Moscow="Moscow",e.Algiers="Algiers",e.Riyadh="Riyadh",e.Baghdad="Baghdad",e.Tehran="Tehran",e.Cairo="Cairo",e.Istanbul="Istanbul",e.Karachi="Karachi",e.Delhi="Delhi",e.Mumbai="Mumbai",e.Chennai="Chennai",e.Kolkata="Kolkata",e.Beijing="Beijing",e.Shanghai="Shanghai",e.HongKong="HongKong",e.Taipei="Taipei",e.Bangkok="Bangkok",e.Manila="Manila",e.Jakarta="Jakarta",e.HoChiMinhCity="HoChiMinhCity",e.Seoul="Seoul",e.Tokyo="Tokyo",e.Osaka="Osaka",e.Sydney="Sydney"}(r||(r={}));var f=function(){function e(){Object(d.a)(this,e),this.groups=void 0,this.discards=[],this.groups=[[]];for(var n=0,t=Object.keys(r);n<t.length;n++){var i=t[n];this.groups[0].push(i)}this.groups[0].sort((function(e,n){return e.localeCompare(n)}))}return Object(j.a)(e,[{key:"draw",value:function(e){this.discards.push(e);var n,t=Object(g.a)(this.groups);try{for(t.s();!(n=t.n()).done;){var r=n.value,i=r.indexOf(e);if(-1!==i){r.splice(i,1),0===r.length&&this.groups.splice(0,1);break}}}catch(s){t.e(s)}finally{t.f()}}},{key:"intensify",value:function(){this.discards.sort((function(e,n){return e.localeCompare(n)})),this.groups.splice(0,0,this.discards),this.discards=[]}},{key:"getCityGroups",value:function(){return this.groups}},{key:"hasDiscards",value:function(){return this.discards.length>0}}]),e}(),k=function(){function e(n,t,r){Object(d.a)(this,e),this.playerCount=n,this.eventCards=t,this.epidemicCards=r,this.counts=[],this.drawnEpidemics=[],this.drawnCards=0,this.drawnCurrentBucket=0,this.deck=void 0,this.currentBucket=void 0;var i=48+this.eventCards+this.epidemicCards;this.deck=i-this.getStartingRemoval();var s=this.deck,a=this.epidemicCards;for(this.counts=[];a>0;){var c=Math.floor(s/a);s-=Math.floor(c),a--,this.counts.push(c),this.drawnEpidemics.push(!1)}this.currentBucket=this.counts.length-1}return Object(j.a)(e,[{key:"draw",value:function(e){if(this.drawnCards--,this.drawnCurrentBucket++,e){if(this.drawnEpidemics[this.currentBucket])throw new Error("Already drew an epidemic for this bucket");this.drawnEpidemics[this.currentBucket]=!0}for(var n=this.deck-this.drawnCards,t=0,r=0;r<this.counts.length;r++){if((t+=this.counts[r])>n)return;if(t==n)return this.currentBucket--,void(this.drawnCurrentBucket=0)}}},{key:"getMinRemainder",value:function(){return this.drawnEpidemics[this.currentBucket]?this.counts[this.currentBucket]-this.drawnCurrentBucket:0}},{key:"getMaxRemainder",value:function(){return this.drawnEpidemics[this.currentBucket]?this.counts[this.currentBucket]-this.drawnCurrentBucket+this.counts[this.currentBucket-1]-1:this.counts[this.currentBucket]-this.drawnCurrentBucket-1}},{key:"getCounts",value:function(){return this.counts}},{key:"getStartingRemoval",value:function(){return 3===this.playerCount?9:8}}]),e}(),O=function(){function e(){Object(d.a)(this,e),this.playerDeck=void 0,this.infectionDeck=void 0,this.epidemicsDrawn=[],this.epidemicsDrawnIndex=0;this.playerDeck=new k(2,2,5),this.infectionDeck=new f;for(var n=0;n<5;n++)this.epidemicsDrawn.push(!1)}return Object(j.a)(e,[{key:"getMinRemainder",value:function(){return this.playerDeck.getMinRemainder()}},{key:"getMaxRemainder",value:function(){return this.playerDeck.getMaxRemainder()}},{key:"drawPlayerDeck",value:function(e){this.playerDeck.draw(e),e&&(this.epidemicsDrawn[this.epidemicsDrawnIndex]=!0,this.epidemicsDrawnIndex++)}},{key:"drawInfectionDeck",value:function(e){this.infectionDeck.draw(e)}},{key:"intensify",value:function(){this.infectionDeck.intensify()}},{key:"getCityGroups",value:function(){return this.infectionDeck.getCityGroups()}},{key:"getEpidemicsDrawn",value:function(){return this.epidemicsDrawn}}]),e}(),x=(new O,t(2)),m=function(e){Object(p.a)(t,e);var n=Object(y.a)(t);function t(e){var r;return Object(d.a)(this,t),(r=n.call(this,e)).state={showActionSheet:!1},r}return Object(j.a)(t,[{key:"render",value:function(){var e=this,n=this.state.showActionSheet,t=this.props.controller.getEpidemicsDrawn(),r=this.props.controller.getMinRemainder(),i=this.props.controller.getMaxRemainder(),s=Math.ceil(r/2),a=Math.ceil(i/2);return Object(x.jsxs)(u.l,{class:"ion-padding",children:[Object(x.jsxs)(u.i,{children:[Object(x.jsx)(u.k,{children:"Cards to Next Epidemic"}),Object(x.jsx)(u.n,{slot:"end",color:"dark",children:0===r&&0===i?"0":"".concat(r,"-").concat(i)})]}),Object(x.jsxs)(u.i,{children:[Object(x.jsx)(u.k,{children:"Rounds to Next Epidemic"}),Object(x.jsx)(u.n,{slot:"end",color:"dark",children:0===s&&0===a?"0":"".concat(s,"-").concat(a)})]}),t.map((function(e,n){return Object(x.jsxs)(u.i,{children:[Object(x.jsx)(u.h,{icon:e?l.c:l.h,slot:"end"}),Object(x.jsxs)(u.k,{children:["Epidemic ",n+1]})]},n+1)})),Object(x.jsx)(u.f,{children:Object(x.jsxs)(u.r,{children:[Object(x.jsx)(u.d,{}),Object(x.jsx)(u.d,{children:Object(x.jsx)(u.c,{expand:"block",onClick:function(){e.setState({showActionSheet:!0})},children:"Draw"})}),Object(x.jsx)(u.d,{})]})}),Object(x.jsx)(u.a,{isOpen:n,onDidDismiss:function(){e.setState({showActionSheet:!1})},buttons:[{text:"Player Card",handler:function(){e.props.controller.drawPlayerDeck(!1)}},{text:"Epidemic",handler:function(){e.props.controller.drawPlayerDeck(!0)}},{text:"Cancel",role:"cancel"}]})]})}}]),t}(s.a.Component),v=(t(72),function(e){var n=e.controller;return Object(x.jsxs)(u.o,{children:[Object(x.jsx)(u.g,{children:Object(x.jsx)(u.w,{children:Object(x.jsx)(u.v,{children:"Epidemics"})})}),Object(x.jsxs)(u.e,{fullscreen:!0,children:[Object(x.jsx)(u.g,{collapse:"condense",children:Object(x.jsx)(u.w,{children:Object(x.jsx)(u.v,{size:"large",children:"Epidemics"})})}),Object(x.jsx)(m,{controller:n})]})]})}),w=(t(73),function(e){Object(p.a)(t,e);var n=Object(y.a)(t);function t(e){var r;return Object(d.a)(this,t),(r=n.call(this,e)).state={groups:r.props.controller.getCityGroups()},r}return Object(j.a)(t,[{key:"render",value:function(){var e=this;return Object(x.jsxs)("div",{children:[Object(x.jsx)(u.f,{children:Object(x.jsxs)(u.r,{children:[Object(x.jsx)(u.d,{}),Object(x.jsx)(u.d,{children:Object(x.jsx)(u.c,{expand:"block",onClick:function(){e.props.controller.intensify(),e.setState({groups:e.props.controller.getCityGroups()})},children:"Intensify"})}),Object(x.jsx)(u.d,{})]})}),Object(x.jsx)(u.l,{class:"ion-padding",children:this.state.groups.map((function(n,t){return Object(x.jsxs)("div",{children:[Object(x.jsx)(u.j,{sticky:!0,children:0===t?"Current Group":"Group ".concat(t+1)}),n.map((function(n,t){return Object(x.jsxs)(u.i,{children:[Object(x.jsx)(u.k,{children:b(n)}),Object(x.jsx)(u.c,{onClick:function(){e.props.controller.drawInfectionDeck(n),e.setState({groups:e.props.controller.getCityGroups()})},slot:"end",children:"Draw"})]},t+1)}))]},t)}))})]})}}]),t}(s.a.Component)),C=(t(74),function(e){var n=e.controller;return Object(x.jsxs)(u.o,{children:[Object(x.jsx)(u.g,{children:Object(x.jsx)(u.w,{children:Object(x.jsx)(u.v,{children:"Infections"})})}),Object(x.jsxs)(u.e,{fullscreen:!0,children:[Object(x.jsx)(u.g,{collapse:"condense",children:Object(x.jsx)(u.w,{children:Object(x.jsx)(u.v,{size:"large",children:"Infections"})})}),Object(x.jsx)(w,{controller:n})]})]})}),M=(t(75),t(76),t(77),t(78),t(79),t(80),t(81),t(82),t(83),t(84),t(85),new(function(){function e(){Object(d.a)(this,e),this.assistant=void 0,this.assistant=new O}return Object(j.a)(e,[{key:"drawPlayerDeck",value:function(e){this.assistant.drawPlayerDeck(e)}},{key:"drawInfectionDeck",value:function(e){this.assistant.drawInfectionDeck(e)}},{key:"intensify",value:function(){this.assistant.intensify()}},{key:"getCityGroups",value:function(){return this.assistant.getCityGroups()}},{key:"getEpidemicsDrawn",value:function(){return this.assistant.getEpidemicsDrawn()}},{key:"getMinRemainder",value:function(){return this.assistant.getMinRemainder()}},{key:"getMaxRemainder",value:function(){return this.assistant.getMaxRemainder()}}]),e}())),D=function(){return Object(x.jsx)(u.b,{children:Object(x.jsx)(h.a,{children:Object(x.jsxs)(u.u,{children:[Object(x.jsxs)(u.q,{children:[Object(x.jsx)(o.b,{exact:!0,path:"/epidemics",children:Object(x.jsx)(v,{controller:M})}),Object(x.jsx)(o.b,{exact:!0,path:"/infections",children:Object(x.jsx)(C,{controller:M})}),Object(x.jsx)(o.b,{exact:!0,path:"/",children:Object(x.jsx)(o.a,{to:"/epidemics"})})]}),Object(x.jsxs)(u.s,{slot:"bottom",children:[Object(x.jsxs)(u.t,{tab:"epidemics",href:"/epidemics",children:[Object(x.jsx)(u.h,{icon:l.q}),Object(x.jsx)(u.k,{children:"Epidemics"})]}),Object(x.jsxs)(u.t,{tab:"infections",href:"/infections",children:[Object(x.jsx)(u.h,{icon:l.j}),Object(x.jsx)(u.k,{children:"Infections"})]})]})]})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var B=function(e){e&&e instanceof Function&&t.e(58).then(t.bind(null,148)).then((function(n){var t=n.getCLS,r=n.getFID,i=n.getFCP,s=n.getLCP,a=n.getTTFB;t(e),r(e),i(e),s(e),a(e)}))};c.a.render(Object(x.jsx)(s.a.StrictMode,{children:Object(x.jsx)(D,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),B()}},[[86,3,4]]]);
//# sourceMappingURL=main.109509b8.chunk.js.map